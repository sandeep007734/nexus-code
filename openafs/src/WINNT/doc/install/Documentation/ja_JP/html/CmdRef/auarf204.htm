<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRPACKAGE" HREF="auarf002.htm#ToC_218">package</A></H2>
<A NAME="IDX5197"></A>
<A NAME="IDX5198"></A>
<A NAME="IDX5199"></A>
<A NAME="IDX5200"></A>
<A NAME="IDX5201"></A>
<A NAME="IDX5202"></A>
<A NAME="IDX5203"></A>
<P><STRONG>目的</STRONG>
<P>ローカル・ディスク上にファイルおよびディレクトリーを構成します。
<P><STRONG>構文</STRONG>
<PRE><B>package</B> [<B>initcmd</B>]  [<B>-config</B> &lt;<VAR>base name of configuration file</VAR>>]
   [<B>-fullconfig</B> &lt;<VAR>full name of configuration file, or stdin for standard input</VAR>>]
   [<B>-overwrite</B>]  [<B>-noaction</B>]  [<B>-verbose</B>]  [<B>-silent</B>]  [<B>-rebootfiles</B>]
   [<B>-debug</B>]  [<B>-help</B>]

<B>package</B> [<B>i</B>]  [<B>-c</B> &lt;<VAR>base name of configuration file</VAR>>]
        [<B>-f</B> &lt;<VAR>full name of configuration file, or stdin for standard input</VAR>>]
        [<B>-o</B>]  [<B>-n</B>]  [<B>-v</B>]  [<B>-s</B>]  [<B>-r</B>]  [<B>-d</B>]  [<B>-h</B>]
</PRE>
<P><STRONG>構文</STRONG>
<P><B>package</B> コマンドは、
<B>-config</B>、または
<B>-fullconfig</B> 引き数が指定する、構成ファイルにある命令に従って、マシンのローカル・ディスクを構成します。
<P>デフォルトでは、<B>package</B> コマンドは、既存のローカル・ディスクの要素で、その内容や構成が、構成ファイルで定義されている要素と一致しないものを更新します。たとえば、構成ファイルの <B>D</B> 命令が、ローカル・ディスク上の記号リンクと同じ名前を持つディレクトリーを定義する場合、
<B>package</B> コマンドは、その記号リンクをディレクトリーに置き換えます。
<B>F</B> 命令および <B>L</B> 命令には、この振る舞いを更新する <VAR>update_code</VAR> フィールドが、オプションで組み込まれています。
<P>さらにデフォルトでは、<B>package</B> コマンドは、ローカル・ディスク上の、構成ファイルで記述されていない要素に対しては、アクションを実行しません。ディスク・ディレクトリーから、構成ファイルに記述されていないファイルを削除する場合には、
<B>D</B> 命令の <B>R</B> 更新コードを使用してください。
<P><B>package</B> コマンドを実行する前に、管理者は、ローカル・ディスク上に、テンプレート・ファイルその他のファイルを作成しなければなりません。詳細については、<I>AFS 管理の手引き</I> を参照してください。
<P>このコマンドを使用して、リモート・クライアント・マシンのディスクを構成することはできません。
<P><STRONG>注意</STRONG>
<P><B>package</B> コマンド・インタープリターは、構成ファイルに構文エラーまたは値の誤りがあった場合には、命令を実行せずに終了します。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>initcmd
</B><DD>コマンドの AFS コマンド・パーサーの使用状況を調べます。これはオプションです。
<P><DT><B>-config
</B><DD>使用する構成ファイルのパス名を指定します。マシン・タイプを表すサフィックスは省略して、ファイルの基本名で終わらせてください。
<B>package</B> コマンドは、そのマシンのシステム・タイプ名を判別し、それを基本名に自動的に付加します。この引き数の適正値は、たとえば、<B>staff.rs_aix42</B> ではなく、
<B>staff</B> です。部分的なパス名を指定すると、現行作業ディレクトリーとの相対位置で解釈されます。
<P>
<P>この引き数を指定するか、または、
<B>-fullconfig</B> 引き数を使用してください。
<P><DT><B>-fullconfig
</B><DD>使用する構成ファイルを指定します。次の 2 種類の値が指定できます。
<UL>
<LI>使用する構成ファイルの完全パス名。マシン・タイプを表す拡張子が付いています (たとえば、
<B>staff.rs_aix42</B>、
<B>admin.sun4x_56</B> など)。
</LI><LI>文字列 <B>stdin</B>。これは、発行者が標準入力ストリーム経由で構成情報を提供することを示します。情報提供は、パイプによってファイルの内容を渡す方法と、シェルで構成行を入力する方法の、いずれかによります。後者の場合は、入力が終了したら、
<B>&lt;Ctrl-d></B> とタイプしてください。
</LI></UL>
<P>
<P>
<P>この引き数を指定するか、または、
<B>-config</B> 引き数を使用してください。
<P><DT><B>-overwrite
</B><DD>構成ファイルで指定された送信元バージョンで、ローカル・ディスクの要素を上書きします。所有者の <B>書き込み</B> (<B>w</B>) モード・ビットが、オンになっているディスク要素の場合も、上書きされます。構成ファイルの <B>F</B> 行にある、
<B>I</B> 更新コードが保護するファイルは、上書きされません。
<P><DT><B>-noaction
</B><DD>コマンドが実際に実行され、
<B>package</B> コマンド・インタープリターが遭遇すると予想する、何らかの問題が報告された場合に、実行される操作の順序を検査します。ローカル・ディスクまたは AFS の要素に変更はありません。
<B>-verbose</B> フラグも提供されている場合は、トレースには、実行されるすべてのアクションに加えて、予期されるエラーも含まれます。
<P><DT><B>-silent
</B><DD>デフォルトで標準出力ストリームに送信される、トレース・メッセージの一部を出力しません。出力ではこれまで同様、重要な問題は報告されます。
<P><DT><B>-verbose
</B><DD>標準出力ストリームに、コマンド実行の詳細なトレースを出力します。この引き数を省略すると、警告およびエラー・メッセージだけが表示されます。
<P><DT><B>-rebootfiles
</B><DD>構成ファイルの <B>F</B> 行の、
<B>Q</B> 更新コードでマークされたファイルの上書きを禁じます。これにより、<B>package</B> コマンドが、マシンの AFS 初期設定ファイルで呼び出されたとき、マシンが自動的に再始動しないようにします。
<P><DT><B>-debug
</B><DD>デフォルトでは標準出力ストリームに送信されるデバッグを、出力できるようにします。デフォルトでは、デバッグ出力は作成されません。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>例</STRONG>
<P>このコマンドは、コマンド・シェル・プロンプトではなく、クライアント・マシンの AFS 初期設定ファイル (<B>/etc/rc</B>、または同等のファイル) で呼び出されます。
<P>次のコマンドは、このマシンのシステム・タイプに最適な、
<B>staff</B> 構成ファイルを呼び出し、詳細出力を作成します。
<PRE>   # <B>/etc/package -c staff -v</B>

</PRE>
<P>次の例では構成ファイルが使用されていますが、その基本名は、ローカル・マシンの <B>/.package</B> ファイルで定義されています。この方法では、管理者は、どのマシンの AFS 初期設定ファイルでも、同じ <B>package</B> コマンドを使用できますが、
<B>/.package</B> ファイルに適切な基本名を入れることによって、構成をカスタマイズすることもできます。
<PRE>   # <B>/etc/package -c `cat /.package` -v</B>

</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>コマンドの発行者は、ローカル・スーパーユーザー <B>root</B> としてログインする必要があります。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf053.htm#HDRPACKAGECONFIG">package 構成ファイル</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf203.htm">前ページ</A> &#124; <A HREF="auarf205.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
