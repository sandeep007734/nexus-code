<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRVLLOG" HREF="auarf002.htm#ToC_36">VLLog</A></H2>
<P><STRONG>目的</STRONG>
<A NAME="IDX3994"></A>
<A NAME="IDX3995"></A>
<A NAME="IDX3996"></A>
<P>ボリューム・ロケーション・サーバーの操作を記録します。
<P><STRONG>構文</STRONG>
<P><B>VLLog</B> ファイルには、ローカル・マシンのボリューム・ロケーション (VL) サーバー (<B>vlserver</B> プロセス) の操作と、検出されたエラー状況が記録されます。
<P>VL サーバーの開始時に <B>VLLog</B> ファイルが <B>/usr/afs/logs</B> ディレクトリーに存在しない場合は、このサーバー・プロセスはファイルを作成し、それに始動時メッセージを書き込みます。ファイルが存在する場合は、VL サーバーはそのファイル名を <B>VLLog.old</B> に変更し、既存の <B>VLLog.old</B> ファイルがある場合は、それを上書きします。
<P>このファイルは、ASCII 形式です。<B>/usr/afs/etc/UserList</B> ファイルにリストされている管理者は、このファイルの内容を表示する <B>bos getlog</B> コマンドを使用することができます。または、サーバー・マシンにログオンしてから、テキスト・エディターまたは UNIX の <B>cat</B> コマンドなどのファイル表示コマンドを使用してください。デフォルトでは、<B> VLLog</B> ファイルのモード・ビットは、すべてのユーザーに対して、<B>r</B> (<B>読み取り</B>) 許可を与えます。
<P>VL サーバーは完了した操作のみを記録するので、ファイルを調べるだけでは障害から回復できません。ログの内容はプロセス障害および他の問題の評価を管理するのに有効です。
<P>VL サーバーは、メッセージを 3 段階の詳細レベルで記録します。デフォルトでは、基本的なメッセージしか記録しません。ログ記録を第 1 の詳細レベルに上げるには、ローカルのスーパーユーザー <B>root</B> としてデータベースにログオンする際に、次のコマンドを発行します。
<PRE>   # <B>kill -TSTP</B> <VAR>vlserver_pid</VAR>

</PRE>
<P>ここで、<VAR>vlserver_pid</VAR> は、<B>vlserver</B> プロセスのプロセス ID です。これは UNIX の標準の <B>ps</B> コマンドで報告される ID と同じです。ログ記録を第 2 および第 3 の詳細レベルに上げるには、このコマンドを繰り返し発行します。
<P>ログ記録を使用不可にするには、次のコマンドを発行します。
<PRE>
   # <B>kill -HUP</B> <VAR>vlserver_pid</VAR>

</PRE>
<P>ログの詳細レベルを下げるには、まず最初にログを完全に使用不可にし、次に必要なレベルになるまで <B>kill -TSTP</B> コマンドを発行します。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf035.htm#HDRUSERLIST">UserList</A>
<P><A HREF="auarf102.htm#HDRBOS_GETLOG">bos getlog</A>
<P><A HREF="auarf249.htm#HDRVLSERVER">vlserver</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf037.htm">前ページ</A> &#124; <A HREF="auarf039.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
