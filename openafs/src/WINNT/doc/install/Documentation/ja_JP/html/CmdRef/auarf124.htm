<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRBOSSERVER" HREF="auarf002.htm#ToC_138">bosserver</A></H2>
<A NAME="IDX4680"></A>
<A NAME="IDX4681"></A>
<A NAME="IDX4682"></A>
<P><STRONG>目的</STRONG>
<P>BOS サーバーを初期化します。
<P><STRONG>構文</STRONG>
<PRE><B>bosserver</B>  [<B>-noauth</B>]  [<B>-log</B>]  [<B>-enable_peer_stats</B>]  [<B>-enable_process_stats</B>]
           [<B>-help</B>]

</PRE>
<P>このコマンドは、AFS コマンド・セットの構文規則に準拠していません。コマンド名およびすべてのオプション名は省略せずにすべて指定してください。
<P><STRONG>構文</STRONG>
<P><B>bosserver</B> コマンドは、基本 OverSeer (BOS) サーバー (<B>bosserver</B> プロセス) を初期化します。規約構成ではこのバイナリー・ファイルは、ファイル・サーバー・マシンの <B>/usr/afs/bin</B> ディレクトリーにあります。
<P>BOS サーバーはすべてのファイル・サーバー・マシンで実行されなければなりません。また、BOS サーバーは、以下のタスクを実行することにより、ファイル・サーバー管理を自動化するのに役に立ちます。
<UL>
<LI>ローカル・マシン上で他の AFS サーバー・プロセスをモニターし、正常に実行されているかどうかを確認します。
</LI><LI>操作員が介入しなくても、障害が起きたプロセスを自動的に再始動します。複数のサーバー・プロセスを同時に再始動する場合、BOS サーバーは相互依存性を考慮し、正しい順序で再始動を開始します。
<A NAME="IDX4683"></A>
<A NAME="IDX4684"></A>
</LI><LI>サーバー・プロセスの状況の検証、新規プロセスのインストールと開始、一時的または永続的なプロセスの停止、および停止プロセスの再始動のために管理者が発行する、<B>bos</B> セットのコマンドを処理します。
</LI><LI>システム構成情報を管理します。この情報は、セルのサーバー暗号化キー、データベース・サーバー・マシン、および <B>bos</B> と <B>vos</B> セットからコマンドを発行できる特権を持つユーザーをリストしたファイルに格納されます。
</LI></UL>
<P>BOS サーバーは、<B>/usr/afs/logs/BosLog</B> ファイルに重要なイベントのデフォルト・セットを記録します。特権コマンドである <B>bos</B> コマンドを実行するユーザー (<B>/usr/afs/etc/UserList</B> ファイルにリストする必要のあるユーザー) の名前を記録するためには、<B>-log</B> フラグを追加してください。
<B>BosLog</B> ファイルの内容を表示するには、<B>bos getlog</B> コマンドを使用してください。
<P>BOS サーバーがサーバー・マシンで最初に初期化する場合に、複数のファイルとサブディレクトリーを、ローカルの <B>/usr/afs</B> ディレクトリーに作成し、そのモード・ビットを設定することで、これらのファイルとサブディレクトリーへの無許可アクセスを保護します。サーバーが再起動するたびに、モード・ビットが以下の図表にリストされた設定に一致していることを検査します。疑問符 (?) は、BOS サーバーが初期にビットをオフにして (ハイフンに設定する)、再起動時には検査しないことを示しています。
<BR>
<TABLE WIDTH="100%">
<TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>drwxr</TT>?<TT>xr-x</TT>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs/backup</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>drwx</TT>???<TT>---</TT>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs/bin</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>drwxr</TT>?<TT>xr-x</TT>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs/db</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>drwx</TT>???<TT>---</TT>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs/etc</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>drwxr</TT>?<TT>xr-x</TT>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs/etc/KeyFile</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>-rw</TT>????<TT>---</TT>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs/etc/UserList</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>-rw</TT>?????<TT>--</TT>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs/local</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>drwx</TT>???<TT>---</TT>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><B>/usr/afs/logs</B>
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="50%"><TT>drwxr</TT>?<TT>xr-x</TT>
</TD></TR></TABLE>
<P>モード・ビットが一致しない場合には、BOS サーバーは、次の警告を <B>BosLog</B> ファイルに書き込みます。
<PRE>   Bosserver reports inappropriate access on server directories

</PRE>
<P>ただし、BOS サーバーはモード・ビットをリセットしません。したがって、管理者は、
(その後開始時に警告メッセージが表示されることを理解した上で) 必要な場合には、代替の値を設定することができます。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>-noauth
</B><DD>特権のない ID <B>anonymous</B> を発行側に割り当てます。これは、許可検査がサーバー・マシンで実行できない場合にのみ有効です (たとえば、ファイル・サーバー・マシンのインストール時)。
<P><DT><B>-log
</B><DD><B>/usr/afs/logs/BosLog</B> ファイルに、特権コマンドの <B>bos</B> コマンドを正常に発行するすべてのユーザー (<B>/usr/afs/etc/UserList</B> ファイルにリストされる必要のあるユーザー) の名前を記録します。
<P><DT><B>-enable_peer_stats
</B><DD>Rx 統計集合を活動化し、それらを保管するためのメモリーを割り振ります。別のマシンの特定の UDP ポートとの接続ごとに、送信または受信された RPC の各タイプ (FetchFile、
GetStatus など) のレコードが別々に保持されています。レコードを表示したり、ほかの方法でレコードにアクセスするには、
Rx Monitoring API を使用します。
<P><DT><B>-enable_process_stats
</B><DD>Rx 統計集合を活動化し、それらを保管するためのメモリーを割り振ります。送信または受信された RPC の各タイプ (FetchFile、GetStatus など) ごとに、レコードが別々に保持され、別のマシンへのすべての接続が集計されます。レコードを表示したり、ほかの方法でレコードにアクセスするには、
Rx Monitoring API を使用します。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>例</STRONG>
<P>次のコマンドは、BOS サーバーを初期化し、特権 <B>bos</B> コマンドを発行するユーザー名を記録しています。
<PRE>   % <B>bosserver -log &amp;</B>

</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>発行側は、ローカル・スーパーユーザー <B>root</B> としてファイル・サーバー・マシンにログオンしなければなりません。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf016.htm#HDRBOSCONFIG">BosConfig</A>
<P><A HREF="auarf015.htm#HDRBOSLOG">BosLog</A>
<P><A HREF="auarf093.htm#HDRBOS_INTRO">bos</A>
<P><A HREF="auarf098.htm#HDRBOS_CREATE">bos create</A>
<P><A HREF="auarf100.htm#HDRBOS_EXEC">bos exec</A>
<P><A HREF="auarf102.htm#HDRBOS_GETLOG">bos getlog</A>
<P><A HREF="auarf103.htm#HDRBOS_GETRESTART">bos getrestart</A>
<P><A HREF="auarf113.htm#HDRBOS_RESTART">bos restart</A>
<P><A HREF="auarf118.htm#HDRBOS_SHUTDOWN">bos shutdown</A>
<P><A HREF="auarf119.htm#HDRBOS_START">bos start</A>
<P><A HREF="auarf120.htm#HDRBOS_STARTUP">bos startup</A>
<P><A HREF="auarf121.htm#HDRBOS_STATUS">bos status</A>
<P><A HREF="auarf122.htm#HDRBOS_STOP">bos stop</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf123.htm">前ページ</A> &#124; <A HREF="auarf125.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
