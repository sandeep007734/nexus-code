<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    -->
<BODY bgcolor="ffffff">
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRFS_SETCACHESIZE" HREF="auarf002.htm#ToC_172">fs setcachesize</A></H2>
<A NAME="IDX4947"></A>
<A NAME="IDX4948"></A>
<A NAME="IDX4949"></A>
<A NAME="IDX4950"></A>
<A NAME="IDX4951"></A>
<A NAME="IDX4952"></A>
<A NAME="IDX4953"></A>
<A NAME="IDX4954"></A>
<P><STRONG>目的</STRONG>
<P>ディスク・キャッシュのサイズを設定します。
<P><STRONG>構文</STRONG>
<PRE><B>fs setcachesize</B> [<B>-blocks</B> &lt;<VAR>size in 1K byte blocks (0 => reset)</VAR>>]
                [<B>-reset</B>]  [<B>-help</B>]

<B>fs setca</B>  [<B>-b</B> &lt;<VAR>size in 1K byte blocks (0 => reset)</VAR>>]  [<B>-r</B>]  [<B>-h</B>]

<B>fs cachesize</B> [<B>-b</B> &lt;<VAR>size in 1K byte blocks (0 => reset)</VAR>>]  [<B>-r</B>]  [<B>-h</B>]

<B>fs ca</B> [<B>-b</B> &lt;<VAR>size in 1K byte blocks (0 => reset)</VAR>>]  [<B>-r</B>]  [<B>-h</B>]
</PRE>
<P><STRONG>構文</STRONG>
<P><B>fs setcachesize</B> コマンドは、ディスク・キャッシュを使用するマシン上で、キャッシュ・マネージャーがそのデータ・キャッシュに使用できるローカルのディスク・スペースのキロバイト・ブロックの数を変更します。このコマンドは、メモリー・キャッシュを使用するマシンでは操作できません。
<P>キャッシュ・サイズをローカルの <B>/usr/vice/etc/cacheinfo</B> ファイルの第 3 フィールドで指定されているデフォルト値に戻すには、値 <B>0</B> を <B>-blocks</B> 引き数に指定します。
<P>マシンの最終リブート時に設定された値にキャッシュ・サイズを戻すには、<B>-blocks</B> 引き数の代わりに、<B>-reset</B> フラグを使用します。これは通常、<B>-blocks</B> 引き数が <B>afsd</B> コマンドに指定されて、<B>cacheinfo</B> 値を上書きしない限り、<B>cacheinfo</B> ファイルで指定されている量になります。
<P>ディスク・キャッシュとメモリー・キャッシュの両方の、現在のキャッシュ・サイズおよびキャッシュの使用量を表示するには、
<B>fs getcacheparms</B> コマンドを使用します。
<P><STRONG>注意</STRONG>
<P>このコマンドは、メモリー・キャッシュを使用するマシンでは操作できません。使用した場合、エラー・メッセージが表示されます。メモリー・キャ ッシュ・サイズを変更するには、<B>cacheinfo</B> ファイルを編集してリブートするか、リブートして <B>afsd</B> コマンドに <B>-blocks</B> 引き数を使用します。
<P>ディスク・キャッシュを使用するマシンでは、キャッシュ・ディレクトリーに使用可能な実際のディスク・スペースの 85% から 90% を超えるキャッシュ・サイズを設定しないでください。キャッシュの実装そのものに、少量の区画のスペースが必要です。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>-blocks
</B><DD>キャッシュ・マネージャーがキャッシュに充てるために使用可能なディスク・スペースの 1 KB ブロックの数を指定します。<B>0</B> 値を指定すると、キャッシュ・サイズは <B>cacheinfo</B> ファイルで指定されているデフォルトに設定されます。
<P><DT><B>-reset
</B><DD>マシンの最終リブート時に設定された値にキャッシュ・サイズを戻します。これは、<B>-blocks</B> 引き数が <B>afsd</B> コマンドで使用されていない限り、<B>cacheinfo</B> ファイルの値と一致します。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>例</STRONG>
<P>次のコマンドは、ディスク・キャッシュのサイズを 25000 KB ブロックに設定します。
<PRE>   % <B>fs setcachesize -blocks 25000</B>

</PRE>
<P>次のコマンドは両方ともディスク・キャッシュのサイズを <B>cacheinfo</B> ファイルの値にリセットします。これは、<B>-blocks</B> 引き数が <B>afsd</B> コマンドで使用されていないことを前提としています。
<PRE>   % <B>fs setcachesize -blocks 0</B>

   % <B>fs setcachesize -reset</B>

</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>コマンドの発行者は、ローカル・スーパーユーザー <B>root</B> としてログインする必要があります。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf043.htm#HDRCACHEINFO">cacheinfo</A>
<P><A HREF="auarf058.htm#HDRAFSD">afsd</A>
<P><A HREF="auarf143.htm#HDRFS_GETCACHEPARMS">fs getcacheparms</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf157.htm">前ページ</A> &#124; <A HREF="auarf159.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B>
<!-- Begin Footer Records  ========================================== -->
<P><HR><B>
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved
</B>
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
