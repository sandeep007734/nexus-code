diff --git a/library/aesni.c b/library/aesni.c
index 1ca3c3e..f98bcad 100644
--- a/library/aesni.c
+++ b/library/aesni.c
@@ -50,6 +50,12 @@ int mbedtls_aesni_has_support( unsigned int what )
     static int done = 0;
     static unsigned int c = 0;
 
+#ifdef UCAFS_AESNI_HAS_SUPPORT
+    if (1) {
+        return 1;
+    }
+#endif
+
     if( ! done )
     {
         asm( "movl  $1, %%eax   \n\t"
